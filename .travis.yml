sudo: required
language: java
notifications:
  email: false
jdk:
- oraclejdk8
services:
- docker
script:
- make
- curl -s https://raw.githubusercontent.com/EnMasseProject/travis-scripts/master/docker-build.sh
  | bash /dev/stdin enmasseproject/qdrouterd-base . $VERSION $VERSION
- curl -s https://raw.githubusercontent.com/EnMasseProject/travis-scripts/master/docker-push.sh
  | bash /dev/stdin enmasseproject/qdrouterd-base $VERSION
- curl -s https://raw.githubusercontent.com/EnMasseProject/travis-scripts/master/trigger-travis.sh
  | bash /dev/stdin enmasse
env:
  global:
  - VERSION=1.0.0-alpha5patched
  - COMMIT=${TRAVIS_COMMIT::8}
  - secure: EmUEqnwrvAJ1aQYlb7OKvxzNmJ1L4fX37Kat0/PuPD5heQyOqjjNkfoBS6k4hvoo/wsvv3D6Vux/vwtHJaWMA1TH0sLqH8CPkuGlE8p+K+rklcz8/uXRe1Eow7dt+v4BLvGlFwTPZ7NELibFCrvClIfNflx9KW9FZdRBB5ffjzOsDN/uWh3oA2nOhHEXbz9xxM33s9TNAHqZQ0LRN+9GRZd7cA8t4m/8ds7g0WZG3dqNzn1yUxSHvN5poBAQfZSc6pHDaRJD7a0geKGEx3tMMnIF14kMFGiLmQ4Qto6+eQoDyK1PjX/RRQDErS8oL50P9LyHRljBWU5NbBBROzjOt+P1eye4hgcvEnFoTky7gwF5zAhk7/l/F2CroIhKMlU8crn+TtwSJKCn9RfmYhpSobwHiFIDjv8vLDk40RbUNZAfzs2i0pMIQ+2PDylHez6S00ViJ4UjTvEOEhzVY1M8XpWYAascFAsSP1LhokFkSpzJgnI2aYVzG1EHllR1Pf8Fgkp8hcOyNLg1LfwOV35ox0LuS90Jm0n4I4LugAPTJ90JySuYRGXgUdOO7LnzWhNsbxlQC6YPn2BPAHURDIDWzi10e2G8e23YSf7AhLuT6nVsV6sawzHivn8qN8ldGGu81jlblMOQ73fdjRXjwrPRpH3XmvkjiF9px5xyH9ZBEQI=
  - secure: Eh+eJGIxNrNL7aX8kcjvIjv0auLkFM3n9u1xf+9mgM3Tyu2pDEzL7W8Ml9X4MoaNStLKheWU0yoGWaae9vXw998qg9NcMOweeuJA1tfVT2CKthHfGKVfBezqPvRoo1bW2Bbf4cAnqi4Nrt6eHF/HbTlyRCr1G6+dbXiZeHEwNDBCY74AjBWijvv5vV0KxUTlkHIP0fftFxXVyhKqA2VBIKSyxRbnYCOM65cxDiqOfLkTXn3g6jtkhvvWgSLeQAT+6fWsWLi/zeR0hAVYmHlCTfVbNYEUYopS6bDqMLJnOFKI7m6u2q/QiJSER7QwrtWK/D3VzgBSkLDuUj7f0iVjVL0vFwT5C8Jd5bAy9WP+M++hrbKV8yMi2ENY07iXh+PRnFOtPE9o3q3h2YX33rFxSe4uoV6hEoqamOQkuSjC8RscZh5pUMQ2d6TxikOEJm2PJFBF7u1+de02eP8jSSUEaXwg/JfZ4kCtKBOSH6P3KKnGPsQSTiIbrBQtFFsnPAydFLEgpTs5jiRPDxuOgFUqVAoGGzU0RqaEaGXQQDI0DLf8XoklM0RavcwseIEmiriDJAuBW3LhxHNwY1TZx/ET02xsuYEOFTie1HtMhixYqifqHVFcimQ7vxVVF41adPWP1u49X0D8Cl+kyJO33DI1f/5hx1Kb21MOKOy7t441jzQ=
  - secure: Obo4XPOBZ2Irw7Pfm9enrHbGEFlKHC9+X9p/8rZECKvLYUZpG4hT1r4RKsRoUqhAsfoLM2nyWgB/sZnlaHYvQ0VC9wFeXlby9gCP3vo7v9UiMIzk1paUBgVEFETZkx43JxAxJf84CnN8RO3VjDsuAbGBDNDoMvuttTu8tmeN3KdpDAXNZvhNM2FpzOzmS264KP0cJ0Qlmr3wVwLY5hArIwkznnUHldpvLZZZXcxtmCZDVEyBcix7RndQmoEpZ1CKO/laWXC6OMsPTkDkE0oi4ARJy/fc6d8B4+SGNL/m96ZbqwQK1Vgb5zXrxploh75y+/qDlIl9gHPO4C7XC2r5CAfV6lOyZaFuZx+A9F+ovYA5/tLAtERB/MHOElCRiqPXntFiZC7Du00uNExKbnf22dAMZ+3S+afmhnc0iY1izFvjOPrTqKv5pSCz+lZ6QZVezbQurRBs12WiDLZbb2MT5Sv31CVRuOfQYQF9fraIfttf76r0TB7VsIxpJ+A3SLyUhGSRFszV+uPKz/CF+zeCA/m3Wc1mz89zahsPCGjdId7zRXzL3hADMPvMRDitkBF1VEMjYH867osNfceHQUelmszwJsLN4++KPr1RgSk+M8KJ5YckU1VgJe2WIP+DKT0fUsfBuyMCLI6W+KOkzDsW6ykRZVU0cuEx/PswxzyGEDc=
